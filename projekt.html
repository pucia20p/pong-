<!--Generalnie to ma być pong, czyli 2 divy po 2 stronach ekranu i piłeczka się odbija od nich, kto przepuści ten przegrywa-->
<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>ludzie tu nikogo nie ma</title>
    <link rel="stylesheet" href="css.css" />
  </head>
  <body>
    <div id="leftBox" class="boxers" style="top: 100px;"></div>
    <div id="big">
      <div id="small">
        <img
          style="height: 40px; width: 40px;"
          src="https://assets.pokemon.com/static2/_ui/img/favicon.ico"
        />
      </div>
    </div>
    <div id="rightBox" class="boxers"></div>


    <script type="text/javascript">
      // Nie usuwać !!!!

      let krawedzxa = 760;
      let krawedzya = 560;
      let interwal = 10;

      // ------------------------------------------------------------------------------------------------------------------------------------------
      // Można dać w komentarz:

      function wielkosc() {
        krawedzx = 600;
        document.getElementById("big").style.width = krawedzx + "px";
        krawedzxa = krawedzx - 40;

        krawedzy = 300;
        document.getElementById("big").style.height = krawedzy + "px";
        krawedzya = krawedzy - 40;
      }

      function interval() {
        interwal = 10;
      }

      function kolorki() {
        document.getElementById("big").style.background = "#666";

        document.getElementsByTagName("body")[0].style.background = "black";
      }

      wielkosc();
      interval();
      kolorki();

      // ------------------------------------------------------------------------------------------------------------------------------------------
      // Główna część zadania:

      let x = krawedzxa / 2;
      let y = krawedzya / 2;
      let link = document.getElementById("small");
      let fkcja_y = null;
      let fkcja_x = null;

      link.style.top = y + "px";
      link.style.left = x + "px";

      topleft = 0;

      function goDownLeft() {
          topleft++
        document.querySelector("#leftBox").style.top = topleft+"px";
      }
      function goUpLeft() {
        document.querySelector("#leftBox").style.top--;
      }

      document.addEventListener("keydown", e => {
        console.log(e.code);
        switch (e.code) {
          case "ArrowUp":
            goUpLeft();
            break;
          case "ArrowDown":
            goUpLeft();
            break;
        }
      });

      function odbicie(typ) {
        if (typ == "dol") gora();
        if (typ == "gora") dol();
        if (typ == "lewo") prawo();
        if (typ == "prawo") lewo();
      }

      function dol() {
        clearInterval(fkcja_y);
        y--;
        fkcja_y = setInterval(function ą() {
          if (y == krawedzya) {
            clearInterval(fkcja_y);
            odbicie("dol");
          }
          y++;
          link.style.top = y + "px";
        }, interwal);
      }

      function gora() {
        clearInterval(fkcja_y);
        y++;
        fkcja_y = setInterval(function ą() {
          if (y == 0) {
            clearInterval(fkcja_y);
            odbicie("gora");
          }
          y--;
          link.style.top = y + "px";
        }, interwal);
      }

      function lewo() {
        clearInterval(fkcja_x);
        x++;
        fkcja_x = setInterval(function ą() {
          if (x == 0) {
            clearInterval(fkcja_x);
            odbicie("lewo");
          }
          x--;
          link.style.left = x + "px";
        }, interwal);
      }

      function prawo() {
        clearInterval(fkcja_x);
        x--;
        fkcja_x = setInterval(function ą() {
          if (x == krawedzxa) {
            clearInterval(fkcja_x);
            odbicie("prawo");
          }
          x++;
          link.style.left = x + "px";
        }, interwal);
      }

      function dol_prawo() {
        dol();
        prawo();
      }

      function gora_prawo() {
        gora();
        prawo();
      }

      function gora_lewo() {
        gora();
        lewo();
      }

      function dol_lewo() {
        dol();
        lewo();
      }
    </script>
  </body>
</html>
